(function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,a=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return false}}(),i=a&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}}(),n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(a||n)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,s,o,l,f;if(e.split(",")[0].indexOf("base64")>=0){t=atob(e.split(",")[1])}else{t=decodeURIComponent(e.split(",")[1])}r=new ArrayBuffer(t.length);s=new Uint8Array(r);for(o=0;o<t.length;o+=1){s[o]=t.charCodeAt(o)}l=e.split(",")[0].split(":")[1].split(";")[0];if(a){return new Blob([i?s:r],{type:l})}f=new n;f.append(r);return f.getBlob(l)};if(e.HTMLCanvasElement&&!t.toBlob){if(t.mozGetAsFile){t.toBlob=function(e,a,i){if(i&&t.toDataURL&&r){e(r(this.toDataURL(a,i)))}else{e(this.mozGetAsFile("blob",a))}}}else if(t.toDataURL&&r){t.toBlob=function(e,t,a){e(r(this.toDataURL(t,a)))}}}if(typeof define==="function"&&define.amd){define(function(){return r})}else{e.dataURLtoBlob=r}})(this);(function(e,t){var a=e.G=typeof exports=="undefined"?{}:exports;a.version="0.0.10";var i=decodeURIComponent,n=encodeURIComponent,r="http://www.w3.org/2000/xmlns/",s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xlink",l=Array.isArray,f=e.URL||e.webkitURL;var c=["href","protocol","origin","userInfo","username","password","hostname","port","relative","pathname","directory","file","search","hash"],h=["searchKey","searchList"],u=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,d=/(?:^|&)([^&=]*)=?([^&]*)/g,g=function(e){var t={toString:p,join:m,update:v},a=u.exec(e||""),n=14;while(n--)t[c[n]]=a[n]||"";var r=t[h[0]]={},s=t[h[1]]={};t[c[12]].replace(d,function(e,t,a){if(t){t=i(t);a=i(a);r[t]=a;(s[t]=s[t]||[]).push(a)}});return t},p=function(e){e=e||this;var t=e[c[1]]||"http",a=e[c[4]],i=e[c[5]],r=e[c[6]],s=e[c[7]],o=e[c[9]],l=e[c[12]],f=e[c[13]],u=e[h[0]],d=e[h[1]],g=r?[t,"://"]:[],p=[],m,v,y,w;if(a){g.push(a);if(i)g.push(":",i);g.push("@")}g.push(r);if(s)g.push(":",s);g.push(o||(r?"/":""));if(l){g.push("?",l)}else{if(u){for(m in u){p.push(n(m)+"="+n(u[m]))}}else if(d){for(m in d){for(y=0,v=d[m],w=v.length;y<w;y++){p.push(n(m)+"="+n(v[y]))}if(!w)p.push(m)}}if(p.length)g.push("?",p.join("&"))}if(f)g.push("#",f);return g.join("")},m=function(e,t){t=t||{};var a=this,i=a[c[9]].split("/"),n=i.length-1,r=g(e),s=r.pathname.split("/"),o=s.length,l,f;if(typeof t.query=="undefined")t.query=true;if(typeof t.hash=="undefined")t.hash=true;for(l=0;l<14;l++){if(l==9){continue}if(l==12&&!t.query){continue}if(l==13&&!t.hash){continue}if(r[c[l]])a[c[l]]=r[c[l]]}if(t.query&&r[c[12]]){a[h[0]]=r[h[0]];a[h[1]]=r[h[1]]}for(l=0;l<o;l++){f=s[l];if(f=="."){i[n]=""}else if(f==".."){i[--n]=""}else if(f===""){if(o>1){if(!l){i[0]=f;n=1}if(l==o-1)i[n]=f}}else{i[n]=f;if(l<o-1)n++}}var u=a[c[9]]=i.slice(0,n+1).join("/"),d=u.split(/\//),p=[u];if(a[c[12]])p.push("?",a[c[12]]);if(a[c[13]])p.push("#",a[c[13]]);a[c[8]]=p.join("");a[c[10]]=d.slice(0,d.length-1).join("/")+"/";a[c[11]]=d[d.length-1];return a},v=function(e){var t=this,a=t[h[0]],i=t[h[1]],r=[],s,o,f,c;for(s in e){o=e[s];if(o===null){delete a[s];delete i[s]}else if(l(o)){i[s]=o;a[s]=o[0]}else{a[s]=o;i[s]=[o]}}for(s in i){o=i[s];for(f=0,c=o.length;f<c;f++){r.push(n(s)+"="+n(o[f]))}}t.search=r.join("&");return t};a.csv=function(e,t){t=t||{};var a=t.lineterminator||"\n",i=t.delimiter||",",n=0,r=e.length,s,o,f,c,h,u=[],d={},g=0,p=new RegExp('("|'+i+"|\n)","g");if(!r){}else if(l(e[0])){for(;n<r;n++){f=e[n];o=f.length;for(s=0;s<o;s++){c=String(f[s]).replace(/"/g,'""');if(c.search(p)>=0)c='"'+c+'"';if(s>0)c=i+c;u.push(c)}u.push(a)}}else{for(;n<r;n++){f=e[n];h=[];for(s in f){c=String(f[s]).replace(/"/g,'""');if(c.search(p)>=0)c='"'+c+'"';if(!(s in d))d[s]=g++;h[d[s]]=c}u.push(h.join(i));u.push(a)}h=[];for(s in d){c=String(s).replace(/"/g,'""');if(c.search(p)>=0)c='"'+c+'"';h.push(c)}u.unshift(a);u.unshift(h.join(i))}return u.join("")};function y(e,t){var a=-1,i,n;if(!e.cssRules)return;n=e.cssRules.length;while(++a<n){i=e.cssRules[a];if(i.type==3)y(i.styleSheet,t);else if(i.selectorText&&i.selectorText.indexOf(">")==-1)t.push(i.cssText)}}function w(t,a){var i=e.navigator,n,r;if(i.msSaveOrOpenBlob&&i.msSaveOrOpenBlob.bind(i))return i.msSaveOrOpenBlob(t,a.file);n=f.createObjectURL(t);r=x("<a></a>").attr("download",a.file).attr("href",n).css("display","none").appendTo("body").dispatch("click");setTimeout(function(){r.remove();f.revokeObjectURL(n)},10)}function b(e){if(!e.hasAttributeNS(r,"xmlns"))e.setAttributeNS(r,"xmlns",s);if(!e.hasAttributeNS(r,"xmlns:xlink"))e.setAttributeNS(r,"xmlns:xlink",o);return e}a.download=function(t){var i=t.mime,n=t.source,r=-1,s,o,l,c,h,u,d,g,p,m;if(t.svg){i=i||"application/svg;charset=utf-8";u=b(x(t.svg).get(0));if(!n){n=(new XMLSerializer).serializeToString(u);if(!t.nostyle){s=e.document.styleSheets||[];l=[];o=s.length;r=-1;while(++r<o)if(s[r])y(s[r],l);if(l.length)n=n.replace(/>/,"><defs><style><![CDATA["+l.join("\n")+"]]></style></defs>")}n='<?xml version="1.0" standalone="no"?>'+n}w(new Blob([n],{type:i}),t)}else if(t.png){i=i||"image/png";u=b(x(t.png).get(0));c=new Image;n=(new XMLSerializer).serializeToString(u);h=new Blob([n],{type:"image/svg+xml;charset=utf-8"});d=f.createObjectURL(h);c.onload=function(){g=u.getBoundingClientRect();p=x("<canvas></canvas>").attr("width",t.width||g.width).attr("height",t.height||g.height).appendTo("body").css("display","none").get(0);m=p.getContext("2d");m.drawImage(c,0,0);p.toBlob(function(e){w(e,t);setTimeout(function(){x(p).remove();f.revokeObjectURL(d)},10)},i)};c.src=d}else if(t.csv){i=i||"text/csv;charset-utf-8";n=a.csv(t.csv);w(new Blob([n],{type:i}),t)}else{i=i||"text/html;charset-utf-8";w(new Blob([t.source],{type:i}),t)}};a.zoom=function(e){e=e||{};var t=e.selector,a=e.speed||50,i=d3.select(t),n=d3.selectAll(i.node().children),r=d3.behavior.zoom().on("zoom",function(){n.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")");s.translate(d3.event.translate).scale(d3.event.scale)}),s=d3.behavior.zoom().on("zoom",function(){n.transition(a).attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")");r.translate(d3.event.translate).scale(d3.event.scale)});if(e.off){i.on(".zoom",null);n.classed("zoom",true).transition().attr("transform","")}else{i.call(r).classed("zoom",false)}return{to:function(e){var t={},a=0,n,r,o,l;if(!e||!e.length){return s.translate([0,0]).scale(1).event(i)}for(;n=e[a];a++){r=n.getBBox(),o=(n.getAttribute("transform")||"").match(/translate\(([\+\-\d\.]+),([\+\-\d\.]+)\)/);if(o){r.x+=+o[1];r.y+=+o[2]}if(!(r.x>=t.x))t.x=r.x;if(!(r.y>=t.y))t.y=r.y;if(!(r.x+r.width<=t.x2))t.x2=r.x+r.width;if(!(r.y+r.height<=t.y2))t.y2=r.y+r.height}t.width=t.x2-t.x;t.height=t.y2-t.y;l=Math.min(width/t.width,height/t.height)*.7;s.translate([(-t.x-t.width/2)*l+width/2,(-t.y-t.height/2)*l+height/2]).scale(l).event(i)}}};var x=e.jQuery,C=x,N=function(e,t){return e.filter(t).add(e.find(t))},B=function(e,t){return e.not(t).add(e.not(t))};getSize=function(e){var t=x(e),a=t.css("display"),i={};if(a!="block")t.css("display","block");i.width=t.width();i.height=t.height();if(a!="block")t.css("display",a);return i};if(x){var j=/[\t\r\n\f]/g,z=/\S+/g;x.fn.addClass=function(e){var t,a,i,n,r,s,o,l=0,f=this.length,c=typeof e==="string"&&e;if(C.isFunction(e)){return this.each(function(t){C(this).addClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(c){t=(e||"").match(z)||[];for(;l<f;l++){a=this[l];s=typeof a.className=="object";o=s?a.className.baseVal:a.className;i=a.nodeType===1&&(o?(" "+o+" ").replace(j," "):" ");if(i){r=0;while(n=t[r++]){if(i.indexOf(" "+n+" ")<0){i+=n+" "}}if(s){a.className.baseVal=C.trim(i)}else{a.className=C.trim(i)}}}}return this};x.fn.removeClass=function(e){var t,a,i,n,r,s,o,l=0,f=this.length,c=arguments.length===0||typeof e==="string"&&e;if(C.isFunction(e)){return this.each(function(t){C(this).removeClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(c){t=(e||"").match(z)||[];for(;l<f;l++){a=this[l];s=typeof a.className=="object";o=s?a.className.baseVal:a.className;i=a.nodeType===1&&(o?(" "+o+" ").replace(j," "):"");if(i){r=0;while(n=t[r++]){while(i.indexOf(" "+n+" ")>=0){i=i.replace(" "+n+" "," ")}}if(s){a.className.baseVal=e?C.trim(i):""}else{a.className=e?C.trim(i):""}}}}return this};x.fn.toggleClass=function(e,t){var a=typeof e;if(typeof t==="boolean"&&a==="string"){return t?this.addClass(e):this.removeClass(e)}if(C.isFunction(e)){return this.each(function(a){C(this).toggleClass(e.call(this,a,typeof this.className=="object"?this.className.baseVal:this.className,t),t)})}return this.each(function(){var t,i;if(a==="string"){var n,r=0,s=C(this),o=e.match(z)||[];while(n=o[r++]){if(s.hasClass(n)){s.removeClass(n)}else{s.addClass(n)}}}else if(a===core_strundefined||a==="boolean"){t=typeof this.className=="object";i=t?this.className.baseVal:this.className;if(i){data_priv.set(this,"__className__",i)}if(t){this.className.baseVal=this.className.baseVal||e===false?"":data_priv.get(this,"__className__")||""}else{this.className=this.className||e===false?"":data_priv.get(this,"__className__")||""}}})};x.fn.hasClass=function(e){var t=" "+e+" ",a,i=0,n=this.length;for(;i<n;i++){a=this[i].className;if(this[i].nodeType===1&&(" "+(typeof a=="object"?a.baseVal:a)+" ").replace(j," ").indexOf(t)>=0){return true}}return false};x.fn.aspect=function(e){e=e||{};var t,a=this,i=e.width,n=e.height,r=a[0].ownerDocument,s=x(r.defaultView||r.parentWindow);if(e.off){s.off(".g.aspect");return a}t=function(){(e.selector?N(a,e.selector):a).each(function(){var e=x(this),t=e.data("width")||i,a=e.data("height")||n,r=getSize(this);if(a)e.css("height",Math.ceil(a*r.width));else if(t)e.css("width",Math.ceil(t*r.height))})};s.on("load.g.aspect",t).on("resize.g.aspect",t).on("orientationchange.g.aspect",t);t();return a};var A;try{new Event("click");A=function(e,t){if(e.match(/click$|^mouse|^menu$/))return new MouseEvent(e,t);else if(e.match(/^key/))return new KeyboardEvent(e,t);else if(e.match(/^focus|^blur$/))return new FocusEvent(e,t);else return new Event(e,t)}}catch(S){A=function(e,t){var a=document.createEvent("event");a.initEvent(e,t.bubbles,t.cancelable);return a}}x.fn.dispatch=function(e,t){return this.each(function(){this.dispatchEvent(A(e,x.extend({bubbles:true,cancelable:true},t)))})};x.fn.urlfilter=function(e){e=e||{};var t=this,i=e.attr||"href",n=e.selector||"["+i+"]",r="remove"in e?e.remove:true,s=t[0].ownerDocument,o=(s.defaultView||s.parentWindow).location,l=(s.defaultView||s.parentWindow).history,f=e.target;if(e.off)return t.off("click.urlfilter");return t.on("click.urlfilter",n,function(e){e.preventDefault();var t=x(this),n=t.data("target")||f,s=t.attr(i),c=a.url.parse(s)[h[0]],u={type:"loaded.g.urlfilter",q:c},d,g,p;if(r)for(p in c)if(c[p]==="")c[p]=null;if(!n||n.match(/^pushstate$/i))g=o.href;else if(n=="#")g=(o.href.split("#")[1]||"").replace(/^#/,"");else{d=x(n);g=d.data("src")}g=a.url.parse(g).join(s,{query:false,hash:false}).update(c);if(!n){o.href=g;t.trigger(u)}else if(n=="#"){o.hash=g;t.trigger(u)}else if(n.match(/^pushstate$/i)){l.pushState({},"",g);t.trigger(u)}else{d.data("src",g).load(g.toString(),function(){t.trigger(u)})}})};x.fn.highlight=function(e){e=e||{};var t=this,a=e.attr||"data-highlight",i=e.selector||"["+a+"]",n=e.leaveDelay||30,r=e.toggle,s,o=[];if(e.off)return t.off(".g.highlight");function l(n,r){var s=x(r),o=x(s.data("target")||e.target||i),l=s.data("hide-class")||e.hideClass||"fade",f=s.data("show-class")||e.showClass||"",c=x(),h,u=n.length,d=u;if(u){while(d--)c=c.add(N(o,x(n[d]).attr(a)));h=o.not(c);if(f){B(c,"."+f).addClass(f);N(h,"."+f).removeClass(f)}if(l){N(c,"."+l).removeClass(l);B(h,"."+l).addClass(l)}}else{if(f)N(o,"."+f).removeClass(f);if(l)N(o,"."+l).removeClass(l)}t.trigger({type:"shown.g.highlight",selected:x(n),matches:(u?c:o).length,highlighted:c,unhighlighted:h})}t.on("mouseenter.g.highlight",i,function(e){if(s)s=clearTimeout(s);if(!o.length)l([e.target],this)}).on("mouseleave.g.highlight",i,function(e){if(s)s=clearTimeout(s);var t=this;if(!o.length)s=setTimeout(function(){l([],t)},n)}).on("click.g.highlight",i,function(e){var t=x(this),a;if(t.data("toggle")||r){a=o.indexOf(e.target);if(a>=0){o.splice(a,1);t.removeClass("active")}else{o.push(e.target);t.addClass("active")}l(o,this)}}).on("clear.g.highlight",function(e){x(o).removeClass("active");o.splice(0);l(o,this)});return t};x.fn.panzoom=function(t){t=t||{};var a=this,i=t.attr||"data-zoom",n=t.selector||"["+i+"]",r=t.target,s=t.zoom||4,o="viewBox",l="animated";if(t.off)return a.off("click.panzoom");a.on("click",n,function(t){var a=x(this),n=a.data("target")||r,f=a.attr(i)||s,c=x(n);function h(t){c.each(function(){var t=x(this).data(o);if(e.d3)d3.select(this).transition().duration(100).attr(o,t);else this.setAttribute(o,t)})}function u(t){c.each(function(){var a=x(this),i=a.data(o),n=this.getBoundingClientRect(),r=+i[2]||n.width,s=+i[3]||n.height,c=a.offset(),h=t.pageX-c.left,u=t.pageY-c.top,d=[h,u,r/f,s/f].join(" ");if(e.d3&&!t.type.match(/move/)){a.data(l,true);d3.select(this).transition().duration(100).attr(o,d).each("end",function(){a.data(l,false)})}else if(!a.data(l))this.setAttribute(o,d)})}if(a.is(".active")){h();c.off(".panzoom").each(function(){x(this).removeData(o)})}else{c.each(function(){x(this).data(o,(this.getAttribute(o)||"").split(/,|\s+/))}).on("mousemove.panzoom",u);u(t)}a.toggleClass("active")});return a};x.fn.reveal=function(e){e=e||{};var t=this,a=e.attr||"data-reveal",i=e.selector||"["+a+"]",n={};if(e.off)return t.off(".g.reveal");x(i).each(function(){var t=x(this),a=t.data("target")||e.target||i,r,s,o,l,f;if(!n[a]){r=+(t.data("start")||e.start||0);l=t.data("hide-class")||e.hideClass||"fade";o=t.data("type")||e.type||"overlay";f="."+l;s=x(a);if(o=="overlay"){s.eq(r).filter(f).removeClass(l);s.slice(r+1).not(f).addClass(l)}else if(o=="single"){s.eq(r).filter(f).removeClass(l);s.not(s.eq(r)).not(f).addClass(l)}n[a]=1}});return t.on("click.g.reveal",i,function(t){var n=x(this),r=x(n.data("target")||e.target||i),s=n.data("hide-class")||e.hideClass||"fade",o=n.data("type")||e.type||"overlay",l=n.data("loop")||e.loop,f="."+s,c=n.attr(a),h,u,d,g,p;if(o=="overlay"){if(c.match(/next/i)){h=r.filter(f);if(!h.length){if(l){r.slice(1).addClass(s);d=r.eq(0)}else{d=r.last()}}else{d=h.first().removeClass(s)}g=r.index(d)}else if(c.match(/prev/i)){u=r.not(f);if(u.length<=1){if(l){r.removeClass(s);d=r.last()}}else{u.last().addClass(s);d=u.eq(-2)}g=r.index(d)}else{g=+c;if(g<0)g=r.length+g;r.slice(0,g+1).filter(f).removeClass(s);r.slice(g+1).not(f).addClass(s)}}else if(o=="single"){p=r.length;u=r.not(f);if(c.match(/next/i)){if(u.length){g=r.index(u.last())+1;if(g>=p)g=l?0:p-1}else g=0}else if(c.match(/prev/i)){if(u.length){g=r.index(u.last())-1;if(g<0)g=l?p-1:0}else g=p-1}else g=+c;d=r.eq(g);d.filter(f).removeClass(s);r.not(d).not(f).addClass(s)}n.trigger({type:"shown.g.reveal",slide:g})})};var k=function(e){return(e||"").toLowerCase().replace(/\s+/g," ").replace(/^ /,"").replace(/ $/,"")},R=function(e){return e.replace(/\s+/g,".*")};x.fn.search=function(e){e=e||{};var t=this,a=e.attr||"data-search",i=e.selector||"["+a+"]",n=e.transform||k,r=e.changeSearch||R,s=e.showClass||"",o=e.hideClass||"",l="search-lastsearch",f="search-mapping",c,h;if(e.off)return t.off(".g.search");c=function(t){var i=x(t.target),r=[],s=e.text||i.attr(a),o=x(i.data("target")||e.target||(typeof s=="string"?"["+s+"]":"*"));o.each(typeof s=="function"?function(){var e=s(this);r.push([x(this),e,n(e),false])}:s=="@text"?function(){var e=this.textContent;r.push([x(this),e,n(e),false])}:function(){var e=this.getAttribute(s);r.push([x(this),e,n(e),false])});i.data(f,r);return r};h=function(e){var t=x(e.target),a=t.val(),i=r(n(a)),h=t.data(l);if(h==i)return;var u=t.data(f),d=new RegExp(i),g=t.data("show-class")||s,p=t.data("hide-class")||o||(g?"":"fade"),m,v,y;t.data(l,i);if(!u)u=c(e);y=u.length;if(!i.length){for(m=0;v=u[m];m++){if(v[3]){if(p)v[0].removeClass(p)}else{if(g)v[0].removeClass(g)}v[3]=false}}else{for(m=0;v=u[m];m++){var w=!v[2].match(d);if(w!==v[3]||!h){if(p)v[0][w?"addClass":"removeClass"](p);if(g)v[0][!w?"addClass":"removeClass"](g);v[3]=w}if(w)y--}}t.trigger({type:"shown.g.search",searchText:a,search:i,matches:y})};return t.on("keyup.g.search",i,h).on("change.g.search",i,h).on("refresh.g.search",c)}}a.unpack=function(){var e,t,a;function i(i){var n=i.data(),r=-1,s=n.length;while(++r<s){n[r].x0=n[r].x;n[r].y0=n[r].y}function o(e){return function(t){t.x+=(t.x0-t.x)*e;t.y+=(t.y0-t.y)*e}}function l(e){var t=d3.geom.quadtree(n);return function(a){var i=a.r,n=a.x-i,r=a.x+i,s=a.y-i,o=a.y+i;t.visit(function(t,l,f,c,h){if(t.point&&t.point!==a){var u=a.x-t.point.x,d=a.y-t.point.y,g=u*u+d*d,p=i+t.point.r;if(g<p*p){g=((g=Math.sqrt(g))-p)/g*e;a.x-=u*=g;a.y-=d*=g;t.point.x+=u;t.point.y+=d}}return l>r||c<n||f>o||h<s})}}e.size([t,a]).nodes(n).on("tick",function f(e){i.each(o(e.alpha*.1)).each(l(.5)).attr("transform",function(e){return"translate("+e.x+","+e.y+")"})}).start()}i.width=function(e){if(!arguments.length)return t;t=e;return i};i.height=function(e){if(!arguments.length)return a;a=e;return i};i.force=function(t){if(!arguments.length)return e;e=t;return i};return i.force(d3.layout.force().charge(0).gravity(.01))};a.map=function(){var e,t,i,n,r,s,o=function(e,t){return 5},l={};function f(){n.scale(1).translate([0,0]);var a=r.bounds(e),s=.95/Math.max((a[1][0]-a[0][0])/t,(a[1][1]-a[0][1])/i),o=[(t-s*(a[1][0]+a[0][0]))/2,(i-s*(a[1][1]+a[0][1]))/2];n.scale(s).translate(o)}l.map=function(t){f();var a=t.selectAll("path.map").data(e.features);a.transition().attr("transform",null).attr("d",r);a.enter().append("path").attr("class","map").attr("transform",null).attr("d",r);a.exit().remove();return a};l.dorling=function(n){f();var l=function(e,t){var a=o(e,t);return a>0?"M0,0m-{r},0a{r},{r} 0 1,0 {d},0a{r},{r} 0 1,0 -{d},0".replace(/\{r\}/g,a).replace(/\{d\}/g,2*a):"M0,0"},c=e.features.map(function(e,t){var a=r.centroid(e.geometry);return typeof a==="undefined"?{x:0,y:0}:{x:a[0],y:a[1],r:o(e,t),properties:e.properties}}),h=n.selectAll("path.map").data(c);h.attr("d",l).attr("transform",function(e,t){return"scale("+o(e,t)+")"});h.enter().append("path").attr("class","map").attr("transform",function(e,t){return"scale("+o(e,t)+")"}).attr("d",l);h.exit().remove();if(!s){s=a.unpack().width(t).height(i)}s(h);return h};l.shape=function(t){if(!arguments.length)return e;e=t;return l};l.width=function(e){if(!arguments.length)return t;t=e;return l};l.height=function(e){if(!arguments.length)return i;i=e;return l};l.force=function(e){if(!arguments.length)return force;force=e;return l};l.size=function(e){if(!arguments.length)return o;o=e;return l};l.path=function(e){if(!arguments.length)return r;r=e;return l};l.projection=function(e){if(!arguments.length)return n;n=e;r=d3.geo.path().projection(e);return l};return l.projection(d3.geo.mercator()).force(d3.layout.force().charge(0).gravity(.01))};a.url={parse:g,unparse:p}})(this);