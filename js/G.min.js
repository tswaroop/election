(function(e,t){var i=e.G=typeof exports=="undefined"?{}:exports;i.version="0.0.3";var a=decodeURIComponent,s=encodeURIComponent,n=Array.isArray;var r=["href","protocol","origin","userInfo","username","password","hostname","port","relative","pathname","directory","file","search","hash"],o=["searchKey","searchList"],l=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,f=/(?:^|&)([^&=]*)=?([^&]*)/g,h=function(e){var t={toString:c,join:u,update:d},i=l.exec(e||""),s=14;while(s--)t[r[s]]=i[s]||"";var n=t[o[0]]={},h=t[o[1]]={};t[r[12]].replace(f,function(e,t,i){if(t){t=a(t);i=a(i);n[t]=i;(h[t]=h[t]||[]).push(i)}});return t},c=function(e){e=e||this;var t=e[r[1]]||"http",i=e[r[4]],a=e[r[5]],n=e[r[6]],l=e[r[7]],f=e[r[9]],h=e[r[12]],c=e[r[13]],u=e[o[0]],d=e[o[1]],p=n?[t,"://"]:[],m=[],v,g,b,w;if(i){p.push(i);if(a)p.push(":",a);p.push("@")}p.push(n);if(l)p.push(":",l);p.push(f||(n?"/":""));if(h){p.push("?",h)}else{if(u){for(v in u){m.push(s(v)+"="+s(u[v]))}}else if(d){for(v in d){for(b=0,g=d[v],w=g.length;b<w;b++){m.push(s(v)+"="+s(g[b]))}if(w===0)m.push(v)}}if(m.length)p.push("?",m.join("&"))}if(c)p.push("#",c);return p.join("")},u=function(e){var t=this,i=t[r[9]].split("/"),a=i.length-1,s=h(e),n=s.pathname.split("/"),l=n.length,f,c;for(f=0;f<14;f++){if(f==9){continue}if(s[r[f]])t[r[f]]=s[r[f]]}if(s[r[12]]){t[o[0]]=s[o[0]];t[o[1]]=s[o[1]]}for(f=0;f<l;f++){c=n[f];if(c=="."){i[a]=""}else if(c==".."){i[--a]=""}else if(c===""){if(l>1){if(f==0){i[0]=c;a=1}if(f==l-1)i[a]=c}}else{i[a]=c;if(f<l-1)a++}}var u=t[r[9]]=i.slice(0,a+1).join("/"),d=u.split(/\//),p=[u];if(t[r[12]])p.push("?",t[r[12]]);if(t[r[13]])p.push("#",t[r[13]]);t[r[8]]=p.join("");t[r[10]]=d.slice(0,d.length-1).join("/")+"/";t[r[11]]=d[d.length-1];return t},d=function(e){var t=this,i=t[o[0]],a=t[o[1]],r=[],l,f;for(l in e){f=e[l];if(f===null){delete i[l];delete a[l]}else if(n(f)){}else{i[l]=f;a[l]=[f]}}for(l in i){r.push(s(l)+"="+s(i[l]))}t.search=r.join("&");return t};function p(t){var i=document.querySelector(t.search),a=t.hideClass||"hide",s=t.transform||function(e){return e.toLowerCase().replace(/\s+/g," ").replace(/^ /,"").replace(/ $/,"")},n=document.querySelectorAll(t.selector),r=[],o=0,l=n.length;for(;o<l;o++){r.push([n[o],s(t.text(n[o])),false])}var f,h,c=r.length,u=new RegExp("\\s*"+a+"\\s*","i");function d(){var e=s(i.value);if(e==h){return}h=e;var t,n,o=new RegExp(e);for(var l=0;l<c;l++){f=r[l];t=!f[1].match(o);if(t!==f[2]){f[2]=t;n=f[0].getAttribute("class")||"";f[0].setAttribute("class",t?n+" "+a:n.replace(u," "))}}}if(e._&&e._.debounce&&t.debounce){d=e._.debounce(d,t.debounce)}i.addEventListener("keyup",d);i.addEventListener("change",d)}var m=e.jQuery,v=m;if(m){function g(e,t){return e.filter(t).add(e.find(t))}function b(e,t){return e.not(t).add(e.not(t))}var w=/[\t\r\n\f]/g,C=/\S+/g;m.fn.addClass=function(e){var t,i,a,s,n,r,o,l=0,f=this.length,h=typeof e==="string"&&e;if(v.isFunction(e)){return this.each(function(t){v(this).addClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(h){t=(e||"").match(C)||[];for(;l<f;l++){i=this[l];r=typeof i.className=="object";o=r?i.className.baseVal:i.className;a=i.nodeType===1&&(o?(" "+o+" ").replace(w," "):" ");if(a){n=0;while(s=t[n++]){if(a.indexOf(" "+s+" ")<0){a+=s+" "}}if(r){i.className.baseVal=v.trim(a)}else{i.className=v.trim(a)}}}}return this};m.fn.removeClass=function(e){var t,i,a,s,n,r,o,l=0,f=this.length,h=arguments.length===0||typeof e==="string"&&e;if(v.isFunction(e)){return this.each(function(t){v(this).removeClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(h){t=(e||"").match(C)||[];for(;l<f;l++){i=this[l];r=typeof i.className=="object";o=r?i.className.baseVal:i.className;a=i.nodeType===1&&(o?(" "+o+" ").replace(w," "):"");if(a){n=0;while(s=t[n++]){while(a.indexOf(" "+s+" ")>=0){a=a.replace(" "+s+" "," ")}}if(r){i.className.baseVal=e?v.trim(a):""}else{i.className=e?v.trim(a):""}}}}return this};m.fn.toggleClass=function(e,t){var i=typeof e;if(typeof t==="boolean"&&i==="string"){return t?this.addClass(e):this.removeClass(e)}if(v.isFunction(e)){return this.each(function(i){v(this).toggleClass(e.call(this,i,typeof this.className=="object"?this.className.baseVal:this.className,t),t)})}return this.each(function(){var t,a;if(i==="string"){var s,n=0,r=v(this),o=e.match(C)||[];while(s=o[n++]){if(r.hasClass(s)){r.removeClass(s)}else{r.addClass(s)}}}else if(i===core_strundefined||i==="boolean"){t=typeof this.className=="object";a=t?this.className.baseVal:this.className;if(a){data_priv.set(this,"__className__",a)}if(t){this.className.baseVal=this.className.baseVal||e===false?"":data_priv.get(this,"__className__")||""}else{this.className=this.className||e===false?"":data_priv.get(this,"__className__")||""}}})};m.fn.hasClass=function(e){var t=" "+e+" ",i,a=0,s=this.length;for(;a<s;a++){i=this[a].className;if(this[a].nodeType===1&&(" "+(typeof i=="object"?i.baseVal:i)+" ").replace(w," ").indexOf(t)>=0){return true}}return false};m.fn.aspect=function(e){e=e||{};var t,i=this,a=e.selector||"[data-width],[data-height]",s=e.width,n=e.height,r=i[0].ownerDocument,o=m(r.defaultView||r.parentWindow);if(e.off){o.off(".aspect");return i}function t(){(a?g(i,a):i).each(function(){var e=this.getBoundingClientRect(),t=m(this),i=t.data("width")||s,a=t.data("height")||n;if(a)t.css("height",Math.ceil(a*e.width));else if(i)t.css("width",Math.ceil(i*e.height))})}o.on("resize.aspect",t).on("orientationchange.aspect",t);t();return i};var N;try{new Event("click");N=function(e,t){return new Event(e,t)}}catch(y){N=function(e,t){var i=document.createEvent("event");i.initEvent(e,t.bubbles,t.cancelable);return i}}m.fn.dispatch=function(e,t){return this.each(function(){this.dispatchEvent(N(e,m.extend({bubbles:true,cancelable:true},t)))})};m.fn.urlfilter=function(e){e=e||{};var t=this,a=e.attr||"href",s=e.selector||"["+a+"]",n="remove"in e?e.remove:true,r=t[0].ownerDocument,l=(r.defaultView||r.parentWindow).location,f=e.target;if(e.off)return t.off("click.urlfilter");return t.on("click.urlfilter",s,function(e){e.preventDefault();var t=m(this),s=t.data("target")||f,r=i.url.parse(t.attr(a))[o[0]],h,c,u;if(n)for(u in r)if(r[u]==="")r[u]=null;if(!s)c=l.href;else if(s=="#")c=l.hash.replace(/^#/,"");else{h=m(s);c=h.data("src")}c=i.url.parse(c).update(r);if(!s)l.href=c;else if(s=="#")l.hash=c;else h.data("src",c).load(c.toString())})};m.fn.highlight=function(e){e=e||{};var t=this,i=e.attr||"data-highlight",a=e.selector||"["+i+"]",s=e.target||a,n=e.showClass||"",r=e.hideClass||"fade",o=e.leaveDelay||30,l=e.toggle,f,h=[];if(e.off)return t.off(".highlight");function c(e,t){var a=m(t),s=m(),o,l=e.length;if(l==0){if(n)g(a,"."+n).removeClass(n);if(r)g(a,"."+r).removeClass(r);return}while(l--)s=s.add(g(a,m(e[l]).attr(i)));o=a.not(s);if(n){b(s,"."+n).addClass(n);g(o,"."+n).removeClass(n)}if(r){g(s,"."+r).removeClass(r);b(o,"."+r).addClass(r)}}t.on("mouseenter.highlight",a,function(e){if(f)f=clearTimeout(f);if(!h.length)c([e.target],m(this).data("target")||s)}).on("mouseleave.highlight",a,function(e){if(f)f=clearTimeout(f);var t=m(this);if(!h.length)f=setTimeout(function(){c([],t.data("target")||s)},o)}).on("click.highlight",a,function(e){var t=m(this),i;if(t.data("toggle")||l){i=h.indexOf(e.target);if(i>=0){h.splice(i,1);t.removeClass("active")}else{h.push(e.target);t.addClass("active")}c(h,t.data("target")||s)}});return t};m.fn.panzoom=function(e){e=e||{};var t=this,i=e.attr||"data-zoom",a=e.selector||"["+i+"]",s=e.target,n=e.zoom||4;if(e.off)return t.off("click.panzoom");t.on("click",a,function(e){var t=m(this),a=t.data("target")||s,r=t.attr(i)||n,o=m(a);function l(e){o.each(function(){this.setAttribute("viewBox",this.getAttribute("data-viewBox"))})}function f(e){o.each(function(){var t=this.getAttribute("data-viewBox"),i=t.split(/,|\s+/),a=this.getBoundingClientRect(),s=+i[2]||a.width,n=+i[3]||a.height;this.setAttribute("viewBox",[e.offsetX,e.offsetY,s/r,n/r].join(" "))})}if(t.is(".active")){t.removeClass("active");l();o.off(".panzoom").each(function(){this.removeAttribute("data-viewBox")})}else{o.each(function(){this.setAttribute("data-viewBox",this.getAttribute("viewBox")||"")}).on("mousemove.panzoom",f).on("mouseleave.panzoom",l);f({offsetX:0,offsetY:0});t.addClass("active")}});return t}}i.url={parse:h,unparse:c};i.search={filter:p}})(this);