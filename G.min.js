(function(e,t){var s=e.G=typeof exports=="undefined"?{}:exports;s.version="0.0.3";var a=decodeURIComponent,i=encodeURIComponent,n=Array.isArray;var r=["href","protocol","origin","userInfo","username","password","hostname","port","relative","pathname","directory","file","search","hash"],l=["searchKey","searchList"],f=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,h=/(?:^|&)([^&=]*)=?([^&]*)/g,o=function(e){var t={toString:c,join:u,update:d},s=f.exec(e),i=14;while(i--)t[r[i]]=s[i]||"";var n=t[l[0]]={},o=t[l[1]]={};t[r[12]].replace(h,function(e,t,s){if(t){t=a(t);s=a(s);n[t]=s;(o[t]=o[t]||[]).push(s)}});return t},c=function(e){e=e||this;var t=e[r[1]]||"http",s=e[r[4]],a=e[r[5]],n=e[r[6]],f=e[r[7]],h=e[r[9]],o=e[r[12]],c=e[r[13]],u=e[l[0]],d=e[l[1]],p=n?[t,"://"]:[],m=[],g,v,b,N;if(s){p.push(s);if(a)p.push(":",a);p.push("@")}p.push(n);if(f)p.push(":",f);p.push(h||(n?"/":""));if(o){p.push("?",o)}else{if(u){for(g in u){m.push(i(g)+"="+i(u[g]))}}else if(d){for(g in d){for(b=0,v=d[g],N=v.length;b<N;b++){m.push(i(g)+"="+i(v[b]))}if(N===0)m.push(g)}}if(m.length)p.push("?",m.join("&"))}if(c)p.push("#",c);return p.join("")},u=function(e){var t=this,s=t[r[9]].split("/"),a=s.length-1,i=o(e),n=i.pathname.split("/"),f=n.length,h,c;for(h=0;h<14;h++){if(h==9){continue}if(i[r[h]])t[r[h]]=i[r[h]]}if(i[r[12]]){t[l[0]]=i[l[0]];t[l[1]]=i[l[1]]}for(h=0;h<f;h++){c=n[h];if(c=="."){s[a]=""}else if(c==".."){s[--a]=""}else if(c===""){if(f>1){if(h==0){s[0]=c;a=1}if(h==f-1)s[a]=c}}else{s[a]=c;if(h<f-1)a++}}var u=t[r[9]]=s.slice(0,a+1).join("/"),d=u.split(/\//),p=[u];if(t[r[12]])p.push("?",t[r[12]]);if(t[r[13]])p.push("#",t[r[13]]);t[r[8]]=p.join("");t[r[10]]=d.slice(0,d.length-1).join("/")+"/";t[r[11]]=d[d.length-1];return t},d=function(e){var t=this,s=t[l[0]],a=t[l[1]],r=[],f,h;for(f in e){h=e[f];if(h===null){delete s[f];delete a[f]}else if(n(h)){}else{s[f]=h;a[f]=[h]}}for(f in s){r.push(i(f)+"="+i(s[f]))}t.search=r.join("&");return t};function p(t){var s=document.querySelector(t.search),a=t.hideClass||"hide",i=t.transform||function(e){return e.toLowerCase().replace(/\s+/g," ").replace(/^ /,"").replace(/ $/,"")},n=document.querySelectorAll(t.selector),r=[],l=0,f=n.length;for(;l<f;l++){r.push([n[l],i(t.text(n[l])),false])}var h,o,c=r.length,u=new RegExp("\\s*"+a+"\\s*","i");function d(){var e=i(s.value);if(e==o){return}o=e;var t,n,l=new RegExp(e);for(var f=0;f<c;f++){h=r[f];t=!h[1].match(l);if(t!==h[2]){h[2]=t;n=h[0].getAttribute("class")||"";h[0].setAttribute("class",t?n+" "+a:n.replace(u," "))}}}if(e._&&e._.debounce&&t.debounce){d=e._.debounce(d,t.debounce)}s.addEventListener("keyup",d);s.addEventListener("change",d)}var m=e.jQuery,g=m;if(m){function v(e,t){return e.filter(t).add(e.find(t))}function b(e,t){return e.not(t).add(e.not(t))}var N=/[\t\r\n\f]/g,y=/\S+/g;m.fn.addClass=function(e){var t,s,a,i,n,r,l,f=0,h=this.length,o=typeof e==="string"&&e;if(g.isFunction(e)){return this.each(function(t){g(this).addClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(o){t=(e||"").match(y)||[];for(;f<h;f++){s=this[f];r=typeof s.className=="object";l=r?s.className.baseVal:s.className;a=s.nodeType===1&&(l?(" "+l+" ").replace(N," "):" ");if(a){n=0;while(i=t[n++]){if(a.indexOf(" "+i+" ")<0){a+=i+" "}}if(r){s.className.baseVal=g.trim(a)}else{s.className=g.trim(a)}}}}return this};m.fn.removeClass=function(e){var t,s,a,i,n,r,l,f=0,h=this.length,o=arguments.length===0||typeof e==="string"&&e;if(g.isFunction(e)){return this.each(function(t){g(this).removeClass(e.call(this,t,typeof this.className=="object"?this.className.baseVal:this.className))})}if(o){t=(e||"").match(y)||[];for(;f<h;f++){s=this[f];r=typeof s.className=="object";l=r?s.className.baseVal:s.className;a=s.nodeType===1&&(l?(" "+l+" ").replace(N," "):"");if(a){n=0;while(i=t[n++]){while(a.indexOf(" "+i+" ")>=0){a=a.replace(" "+i+" "," ")}}if(r){s.className.baseVal=e?g.trim(a):""}else{s.className=e?g.trim(a):""}}}}return this};m.fn.toggleClass=function(e,t){var s=typeof e;if(typeof t==="boolean"&&s==="string"){return t?this.addClass(e):this.removeClass(e)}if(g.isFunction(e)){return this.each(function(s){g(this).toggleClass(e.call(this,s,typeof this.className=="object"?this.className.baseVal:this.className,t),t)})}return this.each(function(){var t,a;if(s==="string"){var i,n=0,r=g(this),l=e.match(y)||[];while(i=l[n++]){if(r.hasClass(i)){r.removeClass(i)}else{r.addClass(i)}}}else if(s===core_strundefined||s==="boolean"){t=typeof this.className=="object";a=t?this.className.baseVal:this.className;if(a){data_priv.set(this,"__className__",a)}if(t){this.className.baseVal=this.className.baseVal||e===false?"":data_priv.get(this,"__className__")||""}else{this.className=this.className||e===false?"":data_priv.get(this,"__className__")||""}}})};m.fn.hasClass=function(e){var t=" "+e+" ",s,a=0,i=this.length;for(;a<i;a++){s=this[a].className;if(this[a].nodeType===1&&(" "+(typeof s=="object"?s.baseVal:s)+" ").replace(N," ").indexOf(t)>=0){return true}}return false};m.fn.aspect=function(e){e=e||{};var t,s=this,a=e.selector,i=e.width,n=e.height,r=s[0].ownerDocument,l=m(r.defaultView||r.parentWindow);if(e.off){l.off(".aspect");return s}function t(){(a?v(s,a):s).each(function(){var e=this.getBoundingClientRect(),t=m(this),s=t.data("width")||i,a=t.data("height")||n;if(a)t.css("height",Math.ceil(a*e.width));else if(s)t.css("width",Math.ceil(s*e.height))})}l.on("resize.aspect",t).on("orientationchange.aspect",t);t();return s};var C;try{new Event("click");C=function(e,t){return new Event(e,t)}}catch(w){C=function(e,t){var s=document.createEvent("event");s.initEvent(e,t.bubbles,t.cancelable);return s}}m.fn.dispatch=function(e,t){return this.each(function(){this.dispatchEvent(C(e,m.extend({bubbles:true,cancelable:true},t)))})};m.fn.urlfilter=function(e){e=e||{};var t=this,a=e.attr||"href",i=e.selector||"["+a+"]",n="remove"in e?e.remove:true,r=t[0].ownerDocument,f=(r.defaultView||r.parentWindow).location,h=e.target;if(e.off)return t.off("click.urlfilter");return t.on("click.urlfilter",i,function(e){e.preventDefault();var t=m(this),i=t.attr("target")||h,r=s.url.parse(t.attr(a))[l[0]],o,c,u;if(n)for(u in r)if(r[u]==="")r[u]=null;if(!i)c=f.href;else if(i=="#")c=f.hash.replace(/^#/,"");else{o=m(i);c=o.data("src")}c=s.url.parse(c).update(r);if(!i)f.href=c;else if(i=="#")f.hash=c;else o.data("src",c).load(c)})};m.fn.highlight=function(e){e=e||{};var t=e.attr||"data-highlight",s=e.selector||"["+t+"]",a=e.target||s,i=e.showClass||"",n=e.hideClass||"fade",r=e.leaveDelay||30,l,f=[];if(e.off)return this.off(".highlight");function h(e,s){var a=m(s),r=m(),l,f=e.length;if(f==0){if(i)v(a,"."+i).removeClass(i);if(n)v(a,"."+n).removeClass(n);return}while(f--)r=r.add(v(a,m(e[f]).attr(t)));l=a.not(r);if(i){b(r,"."+i).addClass(i);v(l,"."+i).removeClass(i)}if(n){v(r,"."+n).removeClass(n);b(l,"."+n).addClass(n)}}return this.on("mouseenter.highlight",s,function(e){if(l)l=clearTimeout(l);if(!f.length)h([e.target],m(this).data("target")||a)}).on("mouseleave.highlight",s,function(e){if(l)l=clearTimeout(l);var t=m(this);if(!f.length)l=setTimeout(function(){h([],t.data("target")||a)},r)}).on("click.highlight",s,function(e){var t=f.indexOf(e.target);if(t>=0)f.splice(t,1);else f.push(e.target);h(f,m(this).data("target")||a)})}}s.url={parse:o,unparse:c};s.search={filter:p}})(this);